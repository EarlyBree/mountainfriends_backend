(this.webpackJsonpmountain_friends=this.webpackJsonpmountain_friends||[]).push([[0],[,,,,,function(e,t,n){e.exports={sidebar:"SideBar_sidebar__32KNa",headtext:"SideBar_headtext__3uSGM",notactivelink:"SideBar_notactivelink__NvNJl",activelink:"SideBar_activelink__CZyr0"}},function(e,t,n){e.exports={login:"Login_login__18Lfy",control:"Login_control__3xV-y",invalid:"Login_invalid__2R0Ut",actions:"Login_actions__9Lmr2",modal:"Login_modal__YUAGq",modalBtn:"Login_modalBtn__2ceWd"}},function(e,t,n){e.exports={details:"MountainDetails_details__2pM74",detailsbutton1:"MountainDetails_detailsbutton1__N-qRv",detailsbutton2:"MountainDetails_detailsbutton2__1uxFX",mymodal:"MountainDetails_mymodal__34eW6",myh1:"MountainDetails_myh1__2dc3h",myp:"MountainDetails_myp__vr6I2",myinput:"MountainDetails_myinput__nWrCt",buttondiv:"MountainDetails_buttondiv__3BFNh",peoplediv:"MountainDetails_peoplediv__1ZwrI"}},function(e,t,n){e.exports={register:"Register_register__1sykb","form-control":"Register_form-control__12uRa","form-actions":"Register_form-actions__5TtJ2",invalid:"Register_invalid__81TcP",mybutton:"Register_mybutton__1gZM9",mymodal:"Register_mymodal__23xkr"}},,,,function(e,t,n){e.exports={friendsinfo:"MyFriendsInfo_friendsinfo__UmEpr",modal:"MyFriendsInfo_modal__30Z_8",modalBtn:"MyFriendsInfo_modalBtn__3glqG"}},function(e,t,n){e.exports={friendsinfo:"AllFriendsInfo_friendsinfo__Vtp5k",modal:"AllFriendsInfo_modal__1nKgn",modalBtn:"AllFriendsInfo_modalBtn__3jPA4"}},function(e,t,n){e.exports={details:"HikeDetails_details__1CEOF",name:"HikeDetails_name__3-vKE",altitude:"HikeDetails_altitude__wiBPb"}},function(e,t,n){e.exports={chartbar:"ChartBar_chartbar__3ERZ3",chartbarinner:"ChartBar_chartbarinner__1EavG",chartbarfill:"ChartBar_chartbarfill__3URpJ",chartbarlabel:"ChartBar_chartbarlabel__FMuKL"}},function(e,t,n){e.exports={backdrop:"Modal_backdrop__3JWWC",modal:"Modal_modal__37-cq","slide-down":"Modal_slide-down__JkuDn"}},,function(e,t,n){e.exports={profileinfo:"ProfileInfo_profileinfo__1Ww-Q",profilecard:"ProfileInfo_profilecard__3YB5Q","profilinfo-appear":"ProfileInfo_profilinfo-appear__16uSN"}},function(e,t,n){e.exports={tourfilter:"TourFilter_tourfilter__1NaTg",tourfiltecontrol:"TourFilter_tourfiltecontrol__XJVom"}},function(e,t,n){e.exports={mountainsinfo:"MyMountains_mountainsinfo__1PnFg",tourchart:"MyMountains_tourchart__1lJ3K"}},function(e,t,n){e.exports={card:"Card_card__3Ibl_"}},function(e,t,n){e.exports={button:"Button_button__3sDBH"}},function(e,t,n){e.exports={onefriend:"FriendCard_onefriend__19UEK"}},function(e,t,n){e.exports={onemountain:"MountainCard_onemountain__1FbS1"}},function(e,t,n){e.exports={mountainsinfo:"AllMountainsInfo_mountainsinfo__1Kpf8"}},,function(e,t,n){e.exports={chart:"Chart_chart__32o5Z"}},function(e,t,n){e.exports={home:"Home_home__3j2-8"}},function(e,t,n){e.exports={nav:"Navigation_nav__3-rOT"}},function(e,t,n){e.exports={"main-header":"MainHeader_main-header__1PyWk"}},,,,,,function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(10),i=n.n(r),s=(n(36),n(2)),o=n(3),l=n(4),u=n(21),d=n.n(u),j=n(0),b=function(e){return Object(j.jsx)("div",{className:"".concat(d.a.card," ").concat(e.className),children:e.children})},h=n(6),f=n.n(h),m=n(22),O=n.n(m),p=function(e){return Object(j.jsx)("button",{type:e.type||"button",className:"".concat(O.a.button," ").concat(e.className),onClick:e.onClick,disabled:e.disabled,children:e.children})},x=n(16),v=n.n(x),g=function(e){return Object(j.jsx)("div",{className:v.a.backdrop,onClick:e.onClose})},_=function(e){return Object(j.jsx)("div",{className:v.a.modal,children:Object(j.jsx)("div",{className:v.a.content,children:e.children})})},y=document.getElementById("overlays"),k=function(e){return Object(j.jsxs)(a.Fragment,{children:[i.a.createPortal(Object(j.jsx)(g,{onClose:e.onClose}),y),i.a.createPortal(Object(j.jsx)(_,{children:e.children}),y)]})},w=function(e,t){return"USER_INPUT"===t.type?{value:t.val,isValid:t.val.includes("@")}:"INPUT_BLUR"===t.type?{value:e.value,isValid:e.value.includes("@")}:{value:"",isValid:!1}},N=function(e,t){return"USER_INPUT"===t.type?{value:t.val,isValid:t.val.trim().length>3}:"INPUT_BLUR"===t.type?{value:e.value,isValid:e.value.trim().length>3}:{value:"",isValid:!1}},S=function(e){var t=Object(a.useState)(!1),n=Object(s.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(!1),u=Object(s.a)(i,2),d=u[0],h=u[1],m=Object(a.useReducer)(w,{value:"",isValid:null}),O=Object(s.a)(m,2),x=O[0],v=O[1],g=Object(a.useReducer)(N,{value:"",isValid:null}),_=Object(s.a)(g,2),y=_[0],S=_[1],C=x.isValid,I=y.isValid;Object(a.useEffect)((function(){var e=setTimeout((function(){r(C&&I)}),500);return function(){clearTimeout(e)}}),[C,I]);var T=function(){var t=Object(l.a)(Object(o.a)().mark((function t(n){var a,c,r;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:x.value,password:y.value})},t.prev=2,t.next=5,fetch("http://sabrinamueller.eu-4.evennode.com/checkpassword",a);case 5:if((c=t.sent).ok){t.next=8;break}throw new Error("Something went wrong");case 8:return t.next=10,c.json();case 10:r=t.sent,console.log(r.answer),"okay"===r.answer?e.onLogin(r.id,x.value,y.value):"noUser"===r.answer?h("noUser"):"wrongPassword"===r.answer&&h("wrongPassword"),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(2),console.log(t.t0.message);case 18:case"end":return t.stop()}}),t,null,[[2,15]])})));return function(e){return t.apply(this,arguments)}}();return Object(j.jsxs)(b,{className:f.a.login,children:[Object(j.jsxs)("form",{onSubmit:T,children:[Object(j.jsxs)("div",{className:"".concat(f.a.control," ").concat(!1===x.isValid?f.a.invalid:""),children:[Object(j.jsx)("label",{htmlFor:"email",children:"E-Mail"}),Object(j.jsx)("input",{type:"email",id:"email",value:x.value,onChange:function(e){v({type:"USER_INPUT",val:e.target.value})},onBlur:function(){v({type:"INPUT_BLUR"})}})]}),Object(j.jsxs)("div",{className:"".concat(f.a.control," ").concat(!1===y.isValid?f.a.invalid:""),children:[Object(j.jsx)("label",{htmlFor:"password",children:"Password"}),Object(j.jsx)("input",{type:"password",id:"password",value:y.value,onChange:function(e){S({type:"USER_INPUT",val:e.target.value})},onBlur:function(){S({type:"INPUT_BLUR"})}})]}),Object(j.jsx)("div",{className:f.a.actions,children:Object(j.jsx)(p,{type:"submit",className:f.a.btn,disabled:!c,children:"Login"})})]}),d&&Object(j.jsx)(k,{children:Object(j.jsxs)("div",{className:f.a.modal,children:["noUser"===d&&Object(j.jsx)("h1",{children:"No such user!"}),"wrongPassword"===d&&Object(j.jsx)("h1",{children:"Wrong password!"}),"noUser"===d&&Object(j.jsx)("form",{onSubmit:e.toRegister,children:Object(j.jsx)(p,{className:f.a.modalBtn,type:"submit",children:"Register now!"})}),Object(j.jsx)("form",{onSubmit:function(){h(!1)},children:Object(j.jsx)(p,{type:"submit",className:f.a.modalBtn,children:"Okay"})})]})})]})},C=n(5),I=n.n(C),T=function(e){var t=Object(a.useState)(""),n=Object(s.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)("profile"),u=Object(s.a)(i,2),d=u[0],h=u[1];Object(a.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t,n,a;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:localStorage.getItem("isLoggedIn")})},e.prev=1,e.next=4,fetch("http://sabrinamueller.eu-4.evennode.com/getuserbyid",t);case 4:if((n=e.sent).ok){e.next=7;break}throw new Error("Something went wrong");case 7:return e.next=9,n.json();case 9:a=e.sent,r(a.name),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var f=function(t){e.onMyActiveInfo(t),h(t)};return Object(j.jsxs)(b,{className:I.a.sidebar,children:[Object(j.jsxs)("h2",{className:I.a.headtext,children:["Hello ",c,"!"]}),Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:Object(j.jsx)(p,{onClick:function(){return f("profile")},className:"".concat(I.a.notactivelink," ").concat("profile"===d?I.a.activelink:I.a.notactivelink,"\n            "),children:"Profile"})}),Object(j.jsx)("li",{children:Object(j.jsx)(p,{onClick:function(){return f("myfriends")},className:"".concat(I.a.notactivelink," ").concat("myfriends"===d?I.a.activelink:I.a.notactivelink,"\n                      "),children:"My friends"})}),Object(j.jsx)("li",{children:Object(j.jsx)(p,{onClick:function(){return f("mymountains")},className:"".concat(I.a.notactivelink," ").concat("mymountains"===d?I.a.activelink:I.a.notactivelink,"\n                      "),children:"My mountains"})}),Object(j.jsx)("li",{children:Object(j.jsx)(p,{onClick:function(){return f("allfriends")},className:"".concat(I.a.notactivelink," ").concat("allfriends"===d?I.a.activelink:I.a.notactivelink,"\n                      "),children:"All people"})}),Object(j.jsx)("li",{children:Object(j.jsx)(p,{onClick:function(){return f("allmountains")},className:"".concat(I.a.notactivelink," ").concat("allmountains"===d?I.a.activelink:I.a.notactivelink,"\n                      "),children:"All mountains"})})]})]})},M=n(18),P=n.n(M),E=function(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),i=Object(s.a)(r,2),u=i[0],d=i[1],h=Object(a.useState)(""),f=Object(s.a)(h,2),m=f[0],O=f[1],p=Object(a.useState)(""),x=Object(s.a)(p,2),v=x[0],g=x[1];return Object(a.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t,n,a;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:localStorage.getItem("isLoggedIn")})},e.prev=1,e.next=4,fetch("http://sabrinamueller.eu-4.evennode.com/getuserbyid",t);case 4:if((n=e.sent).ok){e.next=7;break}throw new Error("Something went wrong");case 7:return e.next=9,n.json();case 9:a=e.sent,c(a.name),d(a.email),O(a.city),g(a.birthday.split("T")[0]),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.log(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(j.jsxs)(b,{className:P.a.profileinfo,children:[Object(j.jsx)("h1",{children:"My Profile"}),Object(j.jsxs)("div",{className:P.a.profilecard,children:[Object(j.jsxs)("p",{children:["Name: ",n]}),Object(j.jsxs)("p",{children:["Email: ",u]}),Object(j.jsxs)("p",{children:["Birthday: ",v]}),Object(j.jsxs)("p",{children:["City: ",m]})]})]})},L=n(23),B=n.n(L),F=function(e){return Object(j.jsx)("li",{className:B.a.onefriend,children:Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{children:e.name}),Object(j.jsx)("p",{children:e.email}),Object(j.jsx)("p",{children:e.birthday.split("T")[0]}),Object(j.jsx)("p",{children:e.city}),0===e.isFriend&&Object(j.jsx)(p,{onClick:function(){e.addFriend(e.id)},children:e.button}),1===e.isFriend&&Object(j.jsx)(p,{disabled:!0,children:e.button})]})})},R=n(12),D=n.n(R),U=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),i=Object(s.a)(r,2),u=i[0],d=i[1];Object(a.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t,n,a;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:localStorage.getItem("isLoggedIn")})},e.prev=1,e.next=4,fetch("http://sabrinamueller.eu-4.evennode.com/getallmyfriendsid",t);case 4:if((n=e.sent).ok){e.next=7;break}throw new Error("Something went wrong");case 7:return e.next=9,n.json();case 9:a=e.sent,c(a),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}();e()}),[u]);var h=function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var n,a;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:localStorage.getItem("isLoggedIn"),friendsId:t})},e.prev=1,e.next=4,fetch("http://sabrinamueller.eu-4.evennode.com/deleteafriend",n);case 4:if((a=e.sent).ok){e.next=8;break}throw console.log(a),new Error("Something went wrong");case 8:d(!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),f=n.map((function(e){return Object(j.jsx)(F,{id:e.id,name:e.name,email:e.email,birthday:e.birthday,city:e.city,button:"Delete friend",isFriend:0,addFriend:h},e.id)}));return Object(j.jsxs)(b,{className:D.a.friendsinfo,children:[Object(j.jsx)("h1",{children:"My friends"}),Object(j.jsx)("ul",{className:D.a.friendlist,children:f}),u&&Object(j.jsx)(k,{children:Object(j.jsxs)("div",{className:D.a.modal,children:[Object(j.jsx)("h1",{children:"Friend deleted!"}),Object(j.jsx)("form",{onSubmit:function(){d(!1)},children:Object(j.jsx)(p,{type:"submit",className:D.a.modalBtn,children:"Okay"})})]})})]})},J=n(13),A=n.n(J),V=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),i=Object(s.a)(r,2),u=i[0],d=i[1];Object(a.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t,n,a;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:localStorage.getItem("isLoggedIn")})},e.prev=1,e.next=4,fetch("http://sabrinamueller.eu-4.evennode.com/getallusers",t);case 4:if((n=e.sent).ok){e.next=7;break}throw new Error("Something went wrong");case 7:return e.next=9,n.json();case 9:a=e.sent,c(a),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}();e()}),[u]);var h=function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var n,a;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:localStorage.getItem("isLoggedIn"),friendsId:t})},e.prev=1,e.next=4,fetch("http://sabrinamueller.eu-4.evennode.com/addafriend",n);case 4:if((a=e.sent).ok){e.next=8;break}throw console.log(a),new Error("Something went wrong");case 8:d(!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),f=n.map((function(e){return Object(j.jsx)(F,{id:e.id,name:e.name,email:e.email,birthday:e.birthday,city:e.city,button:"Add friend",isFriend:e.isFriend,addFriend:h},e.id)}));return Object(j.jsxs)(b,{className:A.a.friendsinfo,children:[Object(j.jsx)("h1",{children:"All people"}),Object(j.jsx)("ul",{className:A.a.friendlist,children:f}),u&&Object(j.jsx)(k,{children:Object(j.jsxs)("div",{className:A.a.modal,children:[Object(j.jsx)("h1",{children:"Friend added!"}),Object(j.jsx)("form",{onSubmit:function(){d(!1)},children:Object(j.jsx)(p,{type:"submit",className:A.a.modalBtn,children:"Okay"})})]})})]})},W=n(24),H=n.n(W),K=function(e){return Object(j.jsx)("li",{className:H.a.onemountain,children:Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:e.name}),Object(j.jsxs)("h4",{children:[e.altitude,"m"]}),Object(j.jsx)(p,{onClick:function(){e.onShowDetails(e.id)},id:e.id,children:"Details"})]})})},Z=n(7),q=n.n(Z),G=function(e){var t=Object(a.useState)(!1),n=Object(s.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(!1),u=Object(s.a)(i,2),d=u[0],h=u[1],f=Object(a.useState)(""),m=Object(s.a)(f,2),O=m[0],x=m[1],v=Object(a.useState)([]),g=Object(s.a)(v,2),_=g[0],y=g[1],w=function(){var t=Object(l.a)(Object(o.a)().mark((function t(){var n,a,c;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=O.toString(),a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:localStorage.getItem("isLoggedIn"),mountain:e.id,date:n})},t.prev=2,t.next=5,fetch("http://sabrinamueller.eu-4.evennode.com/addhike",a);case 5:if((c=t.sent).ok){t.next=9;break}throw console.log(c),new Error("Something went wrong");case 9:r(!1),h(!1),x(""),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(2),console.log(t.t0.message);case 17:case"end":return t.stop()}}),t,null,[[2,14]])})));return function(){return t.apply(this,arguments)}}();Object(a.useEffect)((function(){var t=function(){var t=Object(l.a)(Object(o.a)().mark((function t(){var n,a,c;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:localStorage.getItem("isLoggedIn"),mountain:e.id})},t.prev=1,t.next=4,fetch("http://sabrinamueller.eu-4.evennode.com/getallhikers",n);case 4:if((a=t.sent).ok){t.next=8;break}throw console.log(a),new Error("Something went wrong");case 8:return t.next=10,a.json();case 10:c=t.sent,console.log(c),y(c),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),console.log(t.t0.message);case 18:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(){return t.apply(this,arguments)}}();t()}),[e.id]);var N=_.map((function(e){return Object(j.jsx)("li",{children:e},e)}));return Object(j.jsxs)(b,{className:q.a.details,children:[Object(j.jsxs)("div",{children:[Object(j.jsxs)("h2",{children:["Mountain details for ",e.name]}),Object(j.jsxs)("p",{children:["Altitude: ",e.altitude," m"]}),Object(j.jsxs)("p",{children:["Height difference: ",e.difference," m"]}),Object(j.jsxs)("p",{children:["Longitude: ",e.longitude," km"]}),Object(j.jsxs)("p",{children:["Duration: ",e.duration," hours"]}),_.length>0&&Object(j.jsxs)("div",{className:q.a.peoplediv,children:[Object(j.jsx)("h2",{children:"People who have been on this mountain"}),Object(j.jsx)("ul",{children:N})]}),Object(j.jsx)(p,{className:q.a.detailsbutton1,onClick:function(){e.onBack()},children:"Back"}),Object(j.jsx)(p,{className:q.a.detailsbutton2,onClick:function(){r(!0)},children:"Add tour to my list"})]}),c&&Object(j.jsxs)(k,{className:q.a.mymodal,children:[Object(j.jsxs)("h1",{className:q.a.myh1,children:["Do want to add ",e.name," to your hike list?"]}),Object(j.jsx)("p",{className:q.a.myp,children:"Choose a date"}),Object(j.jsx)("input",{className:q.a.myinput,type:"date",id:"newDate",name:"newDate",min:"2020-01-01",value:O,onChange:function(e){h(!0),x(e.target.value)}}),Object(j.jsxs)("div",{className:q.a.buttondiv,children:[Object(j.jsx)(p,{onClick:function(){x(""),h(!1),r(!1)},children:"Back"}),d&&Object(j.jsx)(p,{onClick:w,children:"Add hike"}),!d&&Object(j.jsx)(p,{disabled:!0,children:"Add hike"})]})]})]})},Q=n(25),X=n.n(Q),Y=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),i=Object(s.a)(r,2),u=i[0],d=i[1];Object(a.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t,n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://sabrinamueller.eu-4.evennode.com/getallmountains");case 3:if((t=e.sent).ok){e.next=6;break}throw new Error("Something went wrong");case 6:return e.next=8,t.json();case 8:n=e.sent,c(n),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var h=function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var n,a,c;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})},e.prev=1,e.next=4,fetch("http://sabrinamueller.eu-4.evennode.com/getmountainbyid",n);case 4:if((a=e.sent).ok){e.next=7;break}throw new Error("Something went wrong");case 7:return e.next=9,a.json();case 9:c=e.sent,d(c),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){u.length}),[u]);var f=n.map((function(e){return Object(j.jsx)(K,{id:e.id,name:e.name,altitude:e.altitude,onShowDetails:h},e.id)}));return Object(j.jsxs)(b,{className:X.a.mountainsinfo,children:[Object(j.jsx)("h1",{children:"All mountains"}),!u.length>0&&Object(j.jsx)("ul",{children:f}),u.length>0&&Object(j.jsx)(G,{id:u[0].id,name:u[0].name,altitude:u[0].altitude,difference:u[0].difference,longitude:u[0].longitude,duration:u[0].duration,onBack:function(){d([])}})]})},z=n(14),$=n.n(z),ee=function(e){return Object(j.jsx)("li",{children:Object(j.jsxs)(b,{className:$.a.details,children:[Object(j.jsxs)("p",{className:$.a.name,children:["Mountain: ",e.name]}),Object(j.jsxs)("p",{className:$.a.altitude,children:["Altitude difference: ",e.difference,"m"]}),Object(j.jsxs)("p",{className:$.a.date,children:["Date: ",e.date.split("T")[0]]})]})})},te=n(19),ne=n.n(te),ae=function(e){return Object(j.jsx)("div",{className:ne.a.tourfilter,children:Object(j.jsxs)("div",{className:ne.a.tourfiltercontrol,children:[Object(j.jsx)("label",{children:"Filter by year"}),Object(j.jsxs)("select",{value:e.selected,onChange:function(t){e.onChangeFilter(t.target.value)},children:[Object(j.jsx)("option",{value:"2022",children:"2022"}),Object(j.jsx)("option",{value:"2021",children:"2021"}),Object(j.jsx)("option",{value:"2020",children:"2020"})]})]})})},ce=n(26),re=n(31),ie=n(15),se=n.n(ie),oe=function(e){var t="0%";return e.maxValue>0&&(t=Math.round(e.value/e.maxValue*100)+"%"),Object(j.jsxs)("div",{className:se.a.chartbar,children:[Object(j.jsx)("div",{className:se.a.chartbarinner,children:Object(j.jsx)("div",{className:se.a.chartbarfill,style:{height:t}})}),Object(j.jsx)("div",{className:se.a.chartbarlabel,children:e.label})]})},le=n(27),ue=n.n(le),de=function(e){var t=e.dataPoints.map((function(e){return e.value})),n=Math.max.apply(Math,Object(re.a)(t));return Object(j.jsx)("div",{className:ue.a.chart,children:e.dataPoints.map((function(e){return Object(j.jsx)(oe,{value:e.value,maxValue:n,label:e.label},e.label)}))})},je=function(e){var t,n=[{label:"Jan",value:0},{label:"Feb",value:0},{label:"Mar",value:0},{label:"Apr",value:0},{label:"May",value:0},{label:"Jun",value:0},{label:"Jul",value:0},{label:"Aug",value:0},{label:"Sep",value:0},{label:"Oct",value:0},{label:"Nov",value:0},{label:"Dec",value:0}],a=Object(ce.a)(e.hikes);try{for(a.s();!(t=a.n()).done;){var c=t.value;n[c.date.split("-")[1]-1].value+=c.mountain.difference}}catch(r){a.e(r)}finally{a.f()}return Object(j.jsx)(de,{dataPoints:n})},be=n(20),he=n.n(be),fe=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)("2022"),i=Object(s.a)(r,2),u=i[0],d=i[1];Object(a.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t,n,a;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:localStorage.getItem("isLoggedIn")})},e.prev=1,e.next=4,fetch("http://sabrinamueller.eu-4.evennode.com/getallhikes",t);case 4:if((n=e.sent).ok){e.next=7;break}throw new Error("Something went wrong");case 7:return e.next=9,n.json();case 9:a=e.sent,c(a),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var h=n.filter((function(e){return e.date.split("-")[0]===u})),f=n.map((function(e){return Object(j.jsx)(ee,{id:e.id,date:e.date,name:e.mountain.name,difference:e.mountain.difference,altitude:e.mountain.altitude},e.id)}));return Object(j.jsxs)(b,{className:he.a.mountainsinfo,children:[Object(j.jsx)("h1",{children:"My mountains"}),Object(j.jsx)(ae,{selected:u,onChangeFilter:function(e){d(e)}}),Object(j.jsx)(je,{className:he.a.tourchart,hikes:h}),Object(j.jsx)("ul",{children:f})]})},me=n(28),Oe=n.n(me),pe=function(){var e=Object(a.useState)("profile"),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(j.jsxs)(b,{className:Oe.a.home,children:[Object(j.jsx)(T,{onMyActiveInfo:function(e){c(e)}}),"profile"===n&&Object(j.jsx)(E,{}),"myfriends"===n&&Object(j.jsx)(U,{}),"allfriends"===n&&Object(j.jsx)(V,{}),"allmountains"===n&&Object(j.jsx)(Y,{}),"mymountains"===n&&Object(j.jsx)(fe,{})]})},xe=n(8),ve=n.n(xe),ge=function(e){var t=Object(a.useState)(""),n=Object(s.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(""),u=Object(s.a)(i,2),d=u[0],h=u[1],f=Object(a.useState)(""),m=Object(s.a)(f,2),O=m[0],x=m[1],v=Object(a.useState)(""),g=Object(s.a)(v,2),_=g[0],y=g[1],w=Object(a.useState)(null),N=Object(s.a)(w,2),S=N[0],C=N[1],I=Object(a.useState)(!1),T=Object(s.a)(I,2),M=T[0],P=T[1],E=Object(a.useState)(!1),L=Object(s.a)(E,2),B=L[0],F=L[1],R=""!==c.trim(),D=d.includes("@")&&d.includes("."),U=O.trim().length>3,J=""!==_.trim(),A=isNaN(S);Object(a.useEffect)((function(){P(!!(R&&D&&U&&J&&A))}),[R,D,U,J,A]);var V=function(){e.outRegister(),F(!1)},W=function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:c,email:d,password:O,birthday:S,city:_})},e.prev=2,e.next=5,fetch("http://sabrinamueller.eu-4.evennode.com/register",n);case 5:if(e.sent.ok){e.next=8;break}throw new Error("Something went wrong");case 8:F(!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)(b,{className:ve.a.register,children:[Object(j.jsxs)("form",{onSubmit:W,children:[Object(j.jsx)("h1",{children:"Register"}),Object(j.jsxs)("div",{className:ve.a["form-control"],children:[Object(j.jsx)("label",{children:"Name:"}),Object(j.jsx)("input",{type:"text",onChange:function(e){r(e.target.value)}})]}),Object(j.jsxs)("div",{className:ve.a["form-control"],children:[Object(j.jsx)("label",{children:"Email:"}),Object(j.jsx)("input",{type:"email",onChange:function(e){h(e.target.value)}})]}),Object(j.jsxs)("div",{className:ve.a["form-control"],children:[Object(j.jsx)("label",{children:"Password: 4 chars minimum "}),Object(j.jsx)("input",{type:"text",onChange:function(e){x(e.target.value)}})]}),Object(j.jsxs)("div",{className:ve.a["form-control"],children:[Object(j.jsx)("label",{children:"City:"}),Object(j.jsx)("input",{type:"text",onChange:function(e){y(e.target.value)}})]}),Object(j.jsxs)("div",{className:ve.a["form-control"],children:[Object(j.jsx)("label",{children:"Birthday:"}),Object(j.jsx)("input",{type:"date",onChange:function(e){C(e.target.value)}})]}),Object(j.jsxs)("div",{className:ve.a["form-actions"],children:[Object(j.jsx)(p,{onClick:V,children:"Back"}),Object(j.jsx)(p,{disabled:!M,className:ve.a.mybutton,type:"submit",children:"Submit"})]})]}),B&&Object(j.jsx)(k,{children:Object(j.jsxs)("div",{className:ve.a.mymodal,children:[Object(j.jsx)("h1",{children:"Welcome to mountain friends!"}),Object(j.jsx)("h2",{children:"Thank you for register!"}),Object(j.jsx)(p,{onClick:V,children:"Login now!"})]})})]})},_e=n(29),ye=n.n(_e),ke=function(e){return Object(j.jsx)("nav",{className:ye.a.nav,children:Object(j.jsxs)("ul",{children:[e.isLoggedIn&&Object(j.jsx)("li",{children:Object(j.jsx)("button",{onClick:e.onLogout,children:"Logout"})}),!e.isLoggedIn&&Object(j.jsx)("li",{children:Object(j.jsx)("button",{onClick:e.toRegister,children:"Register now!"})})]})})},we=n(30),Ne=n.n(we),Se=function(e){return Object(j.jsxs)("header",{className:Ne.a["main-header"],children:[Object(j.jsx)("h1",{children:"mountain friends"}),Object(j.jsx)(ke,{isLoggedIn:e.isAuthenticated,onLogout:e.onLogout,toRegister:e.toRegister})]})};var Ce=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(!1),o=Object(s.a)(i,2),l=o[0],u=o[1];Object(a.useEffect)((function(){localStorage.getItem("isLoggedIn")>=parseInt("1")&&r(!0)}),[]);var d=function(){localStorage.removeItem("isLoggedIn"),r(!1)},b=function(){u(!0),r(null)};return Object(j.jsxs)(c.a.Fragment,{children:[Object(j.jsx)(Se,{isAuthenticated:n,onLogout:d,toRegister:b}),Object(j.jsxs)("main",{children:[!1===n&&Object(j.jsx)(S,{onLogin:function(e,t,n){localStorage.setItem("isLoggedIn",e),r(!0)},toRegister:b}),n&&Object(j.jsx)(pe,{onLogout:d}),l&&Object(j.jsx)(ge,{outRegister:function(){u(!1),r(!1)}})]})]})};i.a.render(Object(j.jsx)(Ce,{}),document.getElementById("root"))}],[[38,1,2]]]);
//# sourceMappingURL=main.81788009.chunk.js.map