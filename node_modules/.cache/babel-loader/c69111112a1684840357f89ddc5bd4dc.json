{"ast":null,"code":"import _regeneratorRuntime from\"C:/mountain_friends_web/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/mountain_friends_web/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/mountain_friends_web/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import Card from\"../UI/Card/Card\";import MountainCard from\"./MountainCard\";import MountainDetails from\"./MountainDetails\";import classes from\"./AllMountainsInfo.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AllMountainsInfo=function AllMountainsInfo(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),allMountains=_useState2[0],setAllMountains=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),mountainInfo=_useState4[0],setMountainInfo=_useState4[1];useEffect(function(){var fetchAllMountains=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,body;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"http://sabrinamueller.eu-4.evennode.com/getallmountains\");case 3:response=_context.sent;if(response.ok){_context.next=6;break;}throw new Error(\"Something went wrong\");case 6:_context.next=8;return response.json();case 8:body=_context.sent;setAllMountains(body);_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);console.log(_context.t0.message);case 15:case\"end\":return _context.stop();}}},_callee,null,[[0,12]]);}));return function fetchAllMountains(){return _ref.apply(this,arguments);};}();fetchAllMountains();},[]);var showDetails=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id){var reqOptions,response,body;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:reqOptions={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({id:id})};_context2.prev=1;_context2.next=4;return fetch(\"http://sabrinamueller.eu-4.evennode.com/getmountainbyid\",reqOptions);case 4:response=_context2.sent;if(response.ok){_context2.next=7;break;}throw new Error(\"Something went wrong\");case 7:_context2.next=9;return response.json();case 9:body=_context2.sent;setMountainInfo(body);_context2.next=16;break;case 13:_context2.prev=13;_context2.t0=_context2[\"catch\"](1);console.log(_context2.t0.message);case 16:case\"end\":return _context2.stop();}}},_callee2,null,[[1,13]]);}));return function showDetails(_x){return _ref2.apply(this,arguments);};}();useEffect(function(){if(mountainInfo.length>0){// console.log(mountainInfo[0].name);\n}},[mountainInfo]);var goBackHandler=function goBackHandler(){setMountainInfo([]);};var allMountainCards=allMountains.map(function(mountain){return/*#__PURE__*/_jsx(MountainCard,{id:mountain.id,name:mountain.name,altitude:mountain.altitude,onShowDetails:showDetails},mountain.id);});return/*#__PURE__*/_jsxs(Card,{className:classes.mountainsinfo,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"All mountains\"}),!mountainInfo.length>0&&/*#__PURE__*/_jsx(\"ul\",{children:allMountainCards}),mountainInfo.length>0&&/*#__PURE__*/_jsx(MountainDetails,{id:mountainInfo[0].id,name:mountainInfo[0].name,altitude:mountainInfo[0].altitude,difference:mountainInfo[0].difference,longitude:mountainInfo[0].longitude,duration:mountainInfo[0].duration,onBack:goBackHandler})]});};export default AllMountainsInfo;","map":{"version":3,"names":["React","useEffect","useState","Card","MountainCard","MountainDetails","classes","AllMountainsInfo","allMountains","setAllMountains","mountainInfo","setMountainInfo","fetchAllMountains","fetch","response","ok","Error","json","body","console","log","message","showDetails","id","reqOptions","method","headers","JSON","stringify","length","goBackHandler","allMountainCards","map","mountain","name","altitude","mountainsinfo","difference","longitude","duration"],"sources":["C:/mountain_friends_web/frontend/src/components/Home/AllMountainsInfo.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\n\r\nimport Card from \"../UI/Card/Card\";\r\nimport MountainCard from \"./MountainCard\";\r\nimport MountainDetails from \"./MountainDetails\";\r\nimport classes from \"./AllMountainsInfo.module.css\";\r\n\r\nconst AllMountainsInfo = () => {\r\n  const [allMountains, setAllMountains] = useState([]);\r\n  const [mountainInfo, setMountainInfo] = useState([]);\r\n  useEffect(() => {\r\n    const fetchAllMountains = async () => {\r\n      try {\r\n        const response = await fetch(\r\n          \"http://sabrinamueller.eu-4.evennode.com/getallmountains\"\r\n        );\r\n        if (!response.ok) {\r\n          throw new Error(\"Something went wrong\");\r\n        }\r\n        // let body = JSON.parse(JSON.stringify(response));\r\n        const body = await response.json();\r\n        setAllMountains(body);\r\n      } catch (error) {\r\n        console.log(error.message);\r\n      }\r\n    };\r\n    fetchAllMountains();\r\n  }, []);\r\n\r\n  const showDetails = async (id) => {\r\n    const reqOptions = {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        id: id,\r\n      }),\r\n    };\r\n    try {\r\n      const response = await fetch(\r\n        \"http://sabrinamueller.eu-4.evennode.com/getmountainbyid\",\r\n        reqOptions\r\n      );\r\n      if (!response.ok) {\r\n        throw new Error(\"Something went wrong\");\r\n      }\r\n      const body = await response.json();\r\n      setMountainInfo(body);\r\n    } catch (error) {\r\n      console.log(error.message);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (mountainInfo.length > 0) {\r\n      // console.log(mountainInfo[0].name);\r\n    }\r\n  }, [mountainInfo]);\r\n\r\n  const goBackHandler = () => {\r\n    setMountainInfo([]);\r\n  };\r\n\r\n  const allMountainCards = allMountains.map((mountain) => (\r\n    <MountainCard\r\n      key={mountain.id}\r\n      id={mountain.id}\r\n      name={mountain.name}\r\n      altitude={mountain.altitude}\r\n      onShowDetails={showDetails}\r\n    />\r\n  ));\r\n\r\n  return (\r\n    <Card className={classes.mountainsinfo}>\r\n      <h1>All mountains</h1>\r\n      {!mountainInfo.length > 0 && <ul>{allMountainCards}</ul>}\r\n\r\n      {mountainInfo.length > 0 && (\r\n        <MountainDetails\r\n          id={mountainInfo[0].id}\r\n          name={mountainInfo[0].name}\r\n          altitude={mountainInfo[0].altitude}\r\n          difference={mountainInfo[0].difference}\r\n          longitude={mountainInfo[0].longitude}\r\n          duration={mountainInfo[0].duration}\r\n          onBack={goBackHandler}\r\n        />\r\n      )}\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default AllMountainsInfo;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}