{"ast":null,"code":"import _regeneratorRuntime from\"C:/mountain_friends_web/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/mountain_friends_web/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/mountain_friends_web/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import Card from\"../UI/Card/Card\";import Button from\"../UI/Button/Button\";import classes from\"./SideBar.module.css\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var SideBar=function SideBar(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),userName=_useState2[0],setUserName=_useState2[1];var _useState3=useState(\"profile\"),_useState4=_slicedToArray(_useState3,2),activeLink=_useState4[0],setActiveLink=_useState4[1];useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var reqOptions,response,body;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:reqOptions={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({id:localStorage.getItem(\"isLoggedIn\")})};_context.prev=1;_context.next=4;return fetch(\"http://sabrinamueller.eu-4.evennode.com/getuserbyid\",reqOptions);case 4:response=_context.sent;if(response.ok){_context.next=7;break;}throw new Error(\"Something went wrong\");case 7:_context.next=9;return response.json();case 9:body=_context.sent;setUserName(body.name);_context.next=16;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](1);console.log(_context.t0.message);case 16:case\"end\":return _context.stop();}}},_callee,null,[[1,13]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);var changeActiveLinkHandler=function changeActiveLinkHandler(active){props.onMyActiveInfo(active);setActiveLink(active);};return/*#__PURE__*/_jsxs(Card,{className:classes.sidebar,children:[/*#__PURE__*/_jsxs(\"h2\",{className:classes.headtext,children:[\"Hello \",userName,\"!\"]}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return changeActiveLinkHandler(\"profile\");},className:\"\".concat(classes.notactivelink,\" \").concat(activeLink===\"profile\"?classes.activelink:classes.notactivelink,\"\\n            \"),children:\"Profile\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return changeActiveLinkHandler(\"myfriends\");},className:\"\".concat(classes.notactivelink,\" \").concat(activeLink===\"myfriends\"?classes.activelink:classes.notactivelink,\"\\n                      \"),children:\"My friends\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return changeActiveLinkHandler(\"mymountains\");},className:\"\".concat(classes.notactivelink,\" \").concat(activeLink===\"mymountains\"?classes.activelink:classes.notactivelink,\"\\n                      \"),children:\"My mountains\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return changeActiveLinkHandler(\"allfriends\");},className:\"\".concat(classes.notactivelink,\" \").concat(activeLink===\"allfriends\"?classes.activelink:classes.notactivelink,\"\\n                      \"),children:\"All people\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return changeActiveLinkHandler(\"allmountains\");},className:\"\".concat(classes.notactivelink,\" \").concat(activeLink===\"allmountains\"?classes.activelink:classes.notactivelink,\"\\n                      \"),children:\"All mountains\"})})]})]});};export default SideBar;","map":{"version":3,"names":["React","useEffect","useState","Card","Button","classes","SideBar","props","userName","setUserName","activeLink","setActiveLink","fetchData","reqOptions","method","headers","body","JSON","stringify","id","localStorage","getItem","fetch","response","ok","Error","json","name","console","log","message","changeActiveLinkHandler","active","onMyActiveInfo","sidebar","headtext","notactivelink","activelink"],"sources":["C:/mountain_friends_web/frontend/src/components/Home/SideBar.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\n\r\nimport Card from \"../UI/Card/Card\";\r\nimport Button from \"../UI/Button/Button\";\r\nimport classes from \"./SideBar.module.css\";\r\n\r\nconst SideBar = (props) => {\r\n  const [userName, setUserName] = useState(\"\");\r\n  const [activeLink, setActiveLink] = useState(\"profile\");\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      const reqOptions = {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          id: localStorage.getItem(\"isLoggedIn\"),\r\n        }),\r\n      };\r\n      try {\r\n        const response = await fetch(\r\n          \"http://sabrinamueller.eu-4.evennode.com/getuserbyid\",\r\n          reqOptions\r\n        );\r\n        if (!response.ok) {\r\n          throw new Error(\"Something went wrong\");\r\n        }\r\n        const body = await response.json();\r\n        setUserName(body.name);\r\n      } catch (error) {\r\n        console.log(error.message);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, []);\r\n\r\n  const changeActiveLinkHandler = (active) => {\r\n    props.onMyActiveInfo(active);\r\n    setActiveLink(active);\r\n  };\r\n\r\n  return (\r\n    <Card className={classes.sidebar}>\r\n      <h2 className={classes.headtext}>Hello {userName}!</h2>\r\n      <ul>\r\n        <li>\r\n          <Button\r\n            onClick={() => changeActiveLinkHandler(\"profile\")}\r\n            className={`${classes.notactivelink} ${\r\n              activeLink === \"profile\"\r\n                ? classes.activelink\r\n                : classes.notactivelink\r\n            }\r\n            `}\r\n          >\r\n            Profile\r\n          </Button>\r\n        </li>\r\n        <li>\r\n          <Button\r\n            onClick={() => changeActiveLinkHandler(\"myfriends\")}\r\n            className={`${classes.notactivelink} ${\r\n              activeLink === \"myfriends\"\r\n                ? classes.activelink\r\n                : classes.notactivelink\r\n            }\r\n                      `}\r\n          >\r\n            My friends\r\n          </Button>\r\n        </li>\r\n        <li>\r\n          <Button\r\n            onClick={() => changeActiveLinkHandler(\"mymountains\")}\r\n            className={`${classes.notactivelink} ${\r\n              activeLink === \"mymountains\"\r\n                ? classes.activelink\r\n                : classes.notactivelink\r\n            }\r\n                      `}\r\n          >\r\n            My mountains\r\n          </Button>\r\n        </li>\r\n        <li>\r\n          <Button\r\n            onClick={() => changeActiveLinkHandler(\"allfriends\")}\r\n            className={`${classes.notactivelink} ${\r\n              activeLink === \"allfriends\"\r\n                ? classes.activelink\r\n                : classes.notactivelink\r\n            }\r\n                      `}\r\n          >\r\n            All people\r\n          </Button>\r\n        </li>\r\n        <li>\r\n          <Button\r\n            onClick={() => changeActiveLinkHandler(\"allmountains\")}\r\n            className={`${classes.notactivelink} ${\r\n              activeLink === \"allmountains\"\r\n                ? classes.activelink\r\n                : classes.notactivelink\r\n            }\r\n                      `}\r\n          >\r\n            All mountains\r\n          </Button>\r\n        </li>\r\n      </ul>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default SideBar;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}