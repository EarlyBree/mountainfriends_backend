{"ast":null,"code":"import _regeneratorRuntime from\"C:/mountain_friends_web/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/mountain_friends_web/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/mountain_friends_web/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import Card from\"../UI/Card/Card\";import Button from\"../UI/Button/Button\";import Modal from\"../UI/Modal/Modal\";import classes from\"./Register.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Register=function Register(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),enteredName=_useState2[0],setEnterName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),enteredEmail=_useState4[0],setEnteredEmail=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),enteredPassword=_useState6[0],setEnteredPassword=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),enteredCity=_useState8[0],setEnteredCity=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),enteredBirthday=_useState10[0],setEnteredBirthday=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),formIsValid=_useState12[0],setFormIsValid=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),showModal=_useState14[0],setShowModal=_useState14[1];var nameIsValid=enteredName.trim()!==\"\";var emailIsValid=enteredEmail.includes(\"@\")&&enteredEmail.includes(\".\");var passwordIsValid=enteredPassword.trim().length>3;var cityIsValid=enteredCity.trim()!==\"\";var birthdayIsValid=isNaN(enteredBirthday);useEffect(function(){if(nameIsValid&&emailIsValid&&passwordIsValid&&cityIsValid&&birthdayIsValid){setFormIsValid(true);}else{setFormIsValid(false);}},[nameIsValid,emailIsValid,passwordIsValid,cityIsValid,birthdayIsValid]);var nameInputChangeHandler=function nameInputChangeHandler(event){setEnterName(event.target.value);};var emailInputChangeHandler=function emailInputChangeHandler(event){setEnteredEmail(event.target.value);};var passwordInputChangeHandler=function passwordInputChangeHandler(event){setEnteredPassword(event.target.value);};var cityInputChangeHandler=function cityInputChangeHandler(event){setEnteredCity(event.target.value);};var birthdayInputChangeHandler=function birthdayInputChangeHandler(event){setEnteredBirthday(event.target.value);};var outRegister=function outRegister(){props.outRegister();setShowModal(false);};var submitHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var reqOptions,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();reqOptions={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({name:enteredName,email:enteredEmail,password:enteredPassword,birthday:enteredBirthday,city:enteredCity})};_context.prev=2;_context.next=5;return fetch(\"http://sabrinamueller.eu-4.evennode.com/register\",reqOptions);case 5:response=_context.sent;if(response.ok){_context.next=8;break;}throw new Error(\"Something went wrong\");case 8:setShowModal(true);// console.log(response);\n_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](2);console.log(_context.t0.message);case 14:case\"end\":return _context.stop();}}},_callee,null,[[2,11]]);}));return function submitHandler(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Card,{className:classes.register,children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitHandler,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Register\"}),/*#__PURE__*/_jsxs(\"div\",{className:classes[\"form-control\"],children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:nameInputChangeHandler})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes[\"form-control\"],children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",onChange:emailInputChangeHandler})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes[\"form-control\"],children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password: 4 chars minimum \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:passwordInputChangeHandler})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes[\"form-control\"],children:[/*#__PURE__*/_jsx(\"label\",{children:\"City:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:cityInputChangeHandler})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes[\"form-control\"],children:[/*#__PURE__*/_jsx(\"label\",{children:\"Birthday:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",onChange:birthdayInputChangeHandler})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes[\"form-actions\"],children:[/*#__PURE__*/_jsx(Button,{onClick:outRegister,children:\"Back\"}),/*#__PURE__*/_jsx(Button,{disabled:!formIsValid,className:classes.mybutton,type:\"submit\",children:\"Submit\"})]})]}),showModal&&/*#__PURE__*/_jsx(Modal,{children:/*#__PURE__*/_jsxs(\"div\",{className:classes.mymodal,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome to mountain friends!\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Thank you for register!\"}),/*#__PURE__*/_jsx(Button,{onClick:outRegister,children:\"Login now!\"})]})})]});};export default Register;","map":{"version":3,"names":["React","useState","useEffect","Card","Button","Modal","classes","Register","props","enteredName","setEnterName","enteredEmail","setEnteredEmail","enteredPassword","setEnteredPassword","enteredCity","setEnteredCity","enteredBirthday","setEnteredBirthday","formIsValid","setFormIsValid","showModal","setShowModal","nameIsValid","trim","emailIsValid","includes","passwordIsValid","length","cityIsValid","birthdayIsValid","isNaN","nameInputChangeHandler","event","target","value","emailInputChangeHandler","passwordInputChangeHandler","cityInputChangeHandler","birthdayInputChangeHandler","outRegister","submitHandler","preventDefault","reqOptions","method","headers","body","JSON","stringify","name","email","password","birthday","city","fetch","response","ok","Error","console","log","message","register","mybutton","mymodal"],"sources":["C:/mountain_friends_web/frontend/src/components/register/Register.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\nimport Card from \"../UI/Card/Card\";\r\nimport Button from \"../UI/Button/Button\";\r\nimport Modal from \"../UI/Modal/Modal\";\r\nimport classes from \"./Register.module.css\";\r\n\r\nconst Register = (props) => {\r\n  const [enteredName, setEnterName] = useState(\"\");\r\n  const [enteredEmail, setEnteredEmail] = useState(\"\");\r\n  const [enteredPassword, setEnteredPassword] = useState(\"\");\r\n  const [enteredCity, setEnteredCity] = useState(\"\");\r\n  const [enteredBirthday, setEnteredBirthday] = useState(null);\r\n  const [formIsValid, setFormIsValid] = useState(false);\r\n  const [showModal, setShowModal] = useState(false);\r\n\r\n  const nameIsValid = enteredName.trim() !== \"\";\r\n  const emailIsValid = enteredEmail.includes(\"@\") && enteredEmail.includes(\".\");\r\n  const passwordIsValid = enteredPassword.trim().length > 3;\r\n  const cityIsValid = enteredCity.trim() !== \"\";\r\n  const birthdayIsValid = isNaN(enteredBirthday);\r\n\r\n  useEffect(() => {\r\n    if (\r\n      nameIsValid &&\r\n      emailIsValid &&\r\n      passwordIsValid &&\r\n      cityIsValid &&\r\n      birthdayIsValid\r\n    ) {\r\n      setFormIsValid(true);\r\n    } else {\r\n      setFormIsValid(false);\r\n    }\r\n  }, [\r\n    nameIsValid,\r\n    emailIsValid,\r\n    passwordIsValid,\r\n    cityIsValid,\r\n    birthdayIsValid,\r\n  ]);\r\n\r\n  const nameInputChangeHandler = (event) => {\r\n    setEnterName(event.target.value);\r\n  };\r\n\r\n  const emailInputChangeHandler = (event) => {\r\n    setEnteredEmail(event.target.value);\r\n  };\r\n  const passwordInputChangeHandler = (event) => {\r\n    setEnteredPassword(event.target.value);\r\n  };\r\n  const cityInputChangeHandler = (event) => {\r\n    setEnteredCity(event.target.value);\r\n  };\r\n  const birthdayInputChangeHandler = (event) => {\r\n    setEnteredBirthday(event.target.value);\r\n  };\r\n\r\n  const outRegister = () => {\r\n    props.outRegister();\r\n    setShowModal(false);\r\n  };\r\n\r\n  const submitHandler = async (event) => {\r\n    event.preventDefault();\r\n    const reqOptions = {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        name: enteredName,\r\n        email: enteredEmail,\r\n        password: enteredPassword,\r\n        birthday: enteredBirthday,\r\n        city: enteredCity,\r\n      }),\r\n    };\r\n    try {\r\n      const response = await fetch(\r\n        \"http://sabrinamueller.eu-4.evennode.com/register\",\r\n        reqOptions\r\n      );\r\n      if (!response.ok) {\r\n        throw new Error(\"Something went wrong\");\r\n      }\r\n      setShowModal(true);\r\n      // console.log(response);\r\n    } catch (error) {\r\n      console.log(error.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card className={classes.register}>\r\n      <form onSubmit={submitHandler}>\r\n        <h1>Register</h1>\r\n        <div className={classes[\"form-control\"]}>\r\n          <label>Name:</label>\r\n          <input type=\"text\" onChange={nameInputChangeHandler} />\r\n        </div>\r\n        <div className={classes[\"form-control\"]}>\r\n          <label>Email:</label>\r\n          <input type=\"email\" onChange={emailInputChangeHandler} />\r\n        </div>\r\n        <div className={classes[\"form-control\"]}>\r\n          <label>Password: 4 chars minimum </label>\r\n          <input type=\"text\" onChange={passwordInputChangeHandler} />\r\n        </div>\r\n        <div className={classes[\"form-control\"]}>\r\n          <label>City:</label>\r\n          <input type=\"text\" onChange={cityInputChangeHandler} />\r\n        </div>\r\n        <div className={classes[\"form-control\"]}>\r\n          <label>Birthday:</label>\r\n          <input type=\"date\" onChange={birthdayInputChangeHandler} />\r\n        </div>\r\n        <div className={classes[\"form-actions\"]}>\r\n          <Button onClick={outRegister}>Back</Button>\r\n          <Button\r\n            disabled={!formIsValid}\r\n            className={classes.mybutton}\r\n            type=\"submit\"\r\n          >\r\n            Submit\r\n          </Button>\r\n        </div>\r\n      </form>\r\n      {showModal && (\r\n        <Modal>\r\n          <div className={classes.mymodal}>\r\n            <h1>Welcome to mountain friends!</h1>\r\n            <h2>Thank you for register!</h2>\r\n            <Button onClick={outRegister}>Login now!</Button>\r\n          </div>\r\n        </Modal>\r\n      )}\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}