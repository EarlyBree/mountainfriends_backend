{"ast":null,"code":"import _regeneratorRuntime from\"C:/mountain_friends_web/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/mountain_friends_web/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/mountain_friends_web/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import Card from\"../UI/Card/Card\";import classes from\"./ProfileInfo.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProfileInfo=function ProfileInfo(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),userName=_useState2[0],setUserName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),userEmail=_useState4[0],setUserEmail=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),userCity=_useState6[0],setUserCity=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),userBirthday=_useState8[0],setUserBirthday=_useState8[1];useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var reqOptions,response,body;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:reqOptions={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({id:localStorage.getItem(\"isLoggedIn\")})};_context.prev=1;_context.next=4;return fetch(\"http://sabrinamueller.eu-4.evennode.com/getuserbyid\",reqOptions);case 4:response=_context.sent;if(response.ok){_context.next=7;break;}throw new Error(\"Something went wrong\");case 7:_context.next=9;return response.json();case 9:body=_context.sent;setUserName(body.name);setUserEmail(body.email);setUserCity(body.city);setUserBirthday(body.birthday.split(\"T\")[0]);_context.next=19;break;case 16:_context.prev=16;_context.t0=_context[\"catch\"](1);console.log(_context.t0.message);case 19:case\"end\":return _context.stop();}}},_callee,null,[[1,16]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);return/*#__PURE__*/_jsxs(Card,{className:classes.profileinfo,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"My Profile\"}),/*#__PURE__*/_jsxs(\"div\",{className:classes.profilecard,children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Name: \",userName]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Email: \",userEmail]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Birthday: \",userBirthday]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"City: \",userCity]})]})]});};export default ProfileInfo;","map":{"version":3,"names":["React","useEffect","useState","Card","classes","ProfileInfo","userName","setUserName","userEmail","setUserEmail","userCity","setUserCity","userBirthday","setUserBirthday","fetchData","reqOptions","method","headers","body","JSON","stringify","id","localStorage","getItem","fetch","response","ok","Error","json","name","email","city","birthday","split","console","log","message","profileinfo","profilecard"],"sources":["C:/mountain_friends_web/frontend/src/components/Home/ProfileInfo.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\n\r\nimport Card from \"../UI/Card/Card\";\r\nimport classes from \"./ProfileInfo.module.css\";\r\n\r\nconst ProfileInfo = () => {\r\n  const [userName, setUserName] = useState(\"\");\r\n  const [userEmail, setUserEmail] = useState(\"\");\r\n  const [userCity, setUserCity] = useState(\"\");\r\n  const [userBirthday, setUserBirthday] = useState(\"\");\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      const reqOptions = {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          id: localStorage.getItem(\"isLoggedIn\"),\r\n        }),\r\n      };\r\n      try {\r\n        const response = await fetch(\r\n          \"http://sabrinamueller.eu-4.evennode.com/getuserbyid\",\r\n          reqOptions\r\n        );\r\n        if (!response.ok) {\r\n          throw new Error(\"Something went wrong\");\r\n        }\r\n        const body = await response.json();\r\n        setUserName(body.name);\r\n        setUserEmail(body.email);\r\n        setUserCity(body.city);\r\n        setUserBirthday(body.birthday.split(\"T\")[0]);\r\n      } catch (error) {\r\n        console.log(error.message);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, []);\r\n  return (\r\n    <Card className={classes.profileinfo}>\r\n      <h1>My Profile</h1>\r\n      <div className={classes.profilecard}>\r\n        <p>Name: {userName}</p>\r\n        <p>Email: {userEmail}</p>\r\n        <p>Birthday: {userBirthday}</p>\r\n        <p>City: {userCity}</p>\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default ProfileInfo;\r\n"],"mappings":"kXAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CAEA,MAAOC,KAAP,KAAiB,iBAAjB,CACA,MAAOC,QAAP,KAAoB,0BAApB,C,wFAEA,GAAMC,YAAW,CAAG,QAAdA,YAAc,EAAM,CACxB,cAAgCH,QAAQ,CAAC,EAAD,CAAxC,wCAAOI,QAAP,eAAiBC,WAAjB,eACA,eAAkCL,QAAQ,CAAC,EAAD,CAA1C,yCAAOM,SAAP,eAAkBC,YAAlB,eACA,eAAgCP,QAAQ,CAAC,EAAD,CAAxC,yCAAOQ,QAAP,eAAiBC,WAAjB,eACA,eAAwCT,QAAQ,CAAC,EAAD,CAAhD,yCAAOU,YAAP,eAAqBC,eAArB,eACAZ,SAAS,CAAC,UAAM,CACd,GAAMa,UAAS,4FAAG,kKACVC,UADU,CACG,CACjBC,MAAM,CAAE,MADS,CAEjBC,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAFQ,CAGjBC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBC,EAAE,CAAEC,YAAY,CAACC,OAAb,CAAqB,YAArB,CADe,CAAf,CAHW,CADH,uCASSC,MAAK,CAC1B,qDAD0B,CAE1BT,UAF0B,CATd,QASRU,QATQ,kBAaTA,QAAQ,CAACC,EAbA,8BAcN,IAAIC,MAAJ,CAAU,sBAAV,CAdM,8BAgBKF,SAAQ,CAACG,IAAT,EAhBL,QAgBRV,IAhBQ,eAiBdX,WAAW,CAACW,IAAI,CAACW,IAAN,CAAX,CACApB,YAAY,CAACS,IAAI,CAACY,KAAN,CAAZ,CACAnB,WAAW,CAACO,IAAI,CAACa,IAAN,CAAX,CACAlB,eAAe,CAACK,IAAI,CAACc,QAAL,CAAcC,KAAd,CAAoB,GAApB,EAAyB,CAAzB,CAAD,CAAf,CApBc,iFAsBdC,OAAO,CAACC,GAAR,CAAY,YAAMC,OAAlB,EAtBc,qEAAH,kBAATtB,UAAS,0CAAf,CAyBAA,SAAS,GACV,CA3BQ,CA2BN,EA3BM,CAAT,CA4BA,mBACE,MAAC,IAAD,EAAM,SAAS,CAAEV,OAAO,CAACiC,WAAzB,wBACE,kCADF,cAEE,aAAK,SAAS,CAAEjC,OAAO,CAACkC,WAAxB,wBACE,8BAAUhC,QAAV,GADF,cAEE,+BAAWE,SAAX,GAFF,cAGE,kCAAcI,YAAd,GAHF,cAIE,8BAAUF,QAAV,GAJF,GAFF,GADF,CAWD,CA5CD,CA8CA,cAAeL,YAAf"},"metadata":{},"sourceType":"module"}